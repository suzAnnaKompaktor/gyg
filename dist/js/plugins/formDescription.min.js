(function(a,b){a=a||{};var c="formdescription",d=function(a,b){return this.init(a,b)};d.DEFAULTS={input:!1,display:"placeholder",icon:'<i class="icon icon-question-circle"></i>'},d.prototype={constructor:d,init:function(a,c){return this.$element=b(a),this.setOptions(c),this.setVars(),this.setData(),this.$item!==!1&&(this.build(),this.events()),this},setData:function(){return this.$element.data(c,this),this},setOptions:function(a){this.options=b.extend(!0,{},d.DEFAULTS,a)},setVars:function(){this.text=this.$element.text(),this.textHtml=this.$element.html(),this.icon=b.isArray(this.options.icon)?this.options.icon[0]:this.options.icon,this.$icon=b("<a></a>").addClass("form-description-icon").append(this.icon),this.setItem()},setItem:function(){var a=!1;if(this.options.input!==!1&&b(this.options.input).length>0)a=b(this.options.input);else if(this.$element.prev("input").length>0)a=this.$element.prev("input");else if(this.$element.prev("textarea").length>0)a=this.$element.prev("textarea");else if(this.$element.prev("select").length>0)a=this.$element.prev("select");else if(this.$element.prev("div").length>0){var c=this.$element.prev("div");c.find("input").length>0?a=c.find("input"):c.find("textarea").length>0?a=c.find("textarea"):c.find("select").length>0&&(a=c.find("select"))}return this.$item=a,this},build:function(){switch(this.options.display){case"placeholder":var a=this.$item.attr("placeholder");"undefined"!=typeof a&&a!==!1||this.displayPlaceholder();break;case"after-form-item":this.displayAfterItem();break;case"after-label":this.displayAfterLabel()}},events:function(){var a=this;"placeholder"==this.options.display&&this.$item.on("focusin",function(){b(this).popover("show"),b(this).attr("placeholder","")}).on("focusout",function(){b(this).attr("placeholder",a.text),b(this).popover("hide")})},displayPlaceholder:function(){this.$item.attr("placeholder",this.text);var a=b(window).width()-(this.$item.offset().left+this.$item.outerWidth()),c=0!==this.$item.offset().left&&a>280?"right":"top";this.addPopover(this.$item,c),this.$item.popover("hide"),this.hideElement()},displayAfterItem:function(){if(!this.$element.hasClass("form-description-after-item")){var a=b('<div class="form-description-wrapper"></div>'),c=this.$item.closest(".form-group");c.append(this.$icon).wrapInner(a);var d=b(window).width()-(c.offset().left+c.outerWidth()),e="left";0!==this.$item.offset().left&&d>140&&(e="top"),0!==this.$item.offset().left&&d>280&&(e="right"),this.addPopover(this.$icon,e),this.hideElement(),this.$element.addClass("form-description-after-item")}},displayAfterLabel:function(){if(!this.$element.hasClass("form-description-label")){var a=b('label[for="'+this.$item.attr("id")+'"]'),c="top";this.addPopover(this.$icon,c),a.append(this.$icon),this.hideElement(),this.$element.addClass("form-description-processed-label")}},hideElement:function(){this.$element.hide()},addPopover:function(a,c){var d=this.options.icon,e=this.textHtml,f=a.hasClass("form-description-icon")?"hover click":"manual";return a.popover({html:!0,trigger:f,content:d+e,placement:c,template:'<div class="popover popover-form-description"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'}),b(window).on("scroll",function(){a.popover("hide")}),this.$popoverEl=a,this}},b.extend(a,{FormDescription:d}),b.fn.formDescription=function(a){return this.each(function(){var e=b(this);e.data(c)?e.data(c):new d(e,a)})}}).apply(this,[window.theme,jQuery]);